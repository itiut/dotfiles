language: ruby
rvm:
  - 2.3
os:
  - osx
before_install:
  - bundle install
  - brew update
  - brew --version
  - which node
  - test -x /usr/local/bin/node && ls -l /usr/local/bin/node && /usr/local/bin/node --version
  - brew list node && sed -i "/^brew 'homebrew\/versions\/node.*'$/d" linked/.Brewfile
  - mkdir -p
      ~/Dropbox/.share/.aws
      ~/Dropbox/.share/.config
      ~/Dropbox/.share/.ssh
  - touch
      ~/Dropbox/.share/.aws/config
      ~/Dropbox/.share/.aws/credentials
      ~/Dropbox/.share/.config/hub
      ~/Dropbox/.share/.gist
      ~/Dropbox/.share/.gitconfig.local
      ~/Dropbox/.share/.ssh/config
      ~/Dropbox/.share/.wakatime.cfg
      ~/Dropbox/.share/.zshenv.local
install:
  - travis_retry make brew
  - make shell
  - make symlink
script:
  - make test
  - /usr/local/bin/zsh -cli 'true'
